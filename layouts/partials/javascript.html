{{ $alpineVersion := site.Params.alpine_js_version }}
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v{{ $alpineVersion }}/dist/alpine.js" defer></script>

{{/* Anchor link scroll offset */}}
<script>
  const navbarHeight = document.getElementsByClassName('navbar')[0].offsetHeight;
  const extraPadding = 15;
  const navbarOffset = -1 * (navbarHeight + extraPadding);
  var shiftWindow = function() { scrollBy(0, navbarOffset) };
  window.addEventListener("hashchange", shiftWindow);
  window.addEventListener("pageshow", shiftWindow);
  function load() { if (window.location.hash) shiftWindow(); }
</script>

{{/* Algolia search bar */}}
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  docsearch({
    apiKey: 'c42d672f33ecea131ab51c71699b7c37',
    indexName: 'keda',
    inputSelector: '#search-bar',
    debug: false
  });
</script>

{{/* Scalers filter */}}
<script type="text/javascript">
  const builtInScalers = document.getElementById("built-in-scalers"); 
  const externalScalers = document.getElementById("external-scalers");
  const btnFocusOnMount = document.getElementById("btn-focus-on-mount");   

  let btns = document.getElementsByClassName("filterBtn");
  for (let i = 0; i < btns.length; i++) {
    btns[i].addEventListener("click", function() {
        let filterValue = btns[i].value.toLowerCase();
        if (filterValue === "built-in-scalers"){
          builtInScalers.style.display = "flex"; 
          externalScalers.style.display = "none";
        } else if (filterValue === "external-scalers") {
          // remove focus when changed
          btnFocusOnMount.classList.remove("is-focused");
          builtInScalers.style.display = "none"; 
          externalScalers.style.display = "inline";
        }
    });
  }

</script>